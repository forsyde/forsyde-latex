% A library with graphical primitives for SDF process networks
%
% Author: George Ungureanu, KTH - Royal Institute of Technology, Sweden
% Version: 0.1
% Date: 2016/01/12
\NeedsTeXFormat{LaTeX2e}
\RequirePackage{mathtools}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{stmaryrd}
\RequirePackage{graphicx}
\RequirePackage{tikz}
\RequirePackage{wasysym}
\RequirePackage{stackengine}
\ProvidesPackage{forsyde-math}
              [2016/10/05 v0.2 ForSyDe Math Library]

\newcommand\mdoubleplus{\ensuremath{\mathbin{+\mkern-10mu+}}}
\newcommand\monecirc[3]{\tikz[baseline=(X.base)] 
  \node (X) [draw, shape=circle, scale=.6, inner sep=0,
             label={[scale=#3, shift={(#2,0pt)}]center:#1}] {\strut\phantom{#1}};}

\newlength\myheight
\newcommand*\ccircled[1]{\settowidth{\myheight}{#1}%
    {\tikz[baseline=(char.base)]{%
        \node[shape=circle, draw, ultra thin, inner sep=0pt, minimum size=0](char){#1};}}}

\newcommand\vect[1]{\langle{#1}\rangle}
\newcommand\pc[1]{\mathtt{#1}\ }
\newcommand\wrapdf[1]{\overline{#1}}


\newcommand{\ostar}{\ensuremath{\mathbin{\ccircled{$\star$}}}}
\newcommand{\fpre}{\ensuremath{\mathbin{\ccircled{\scriptsize$\prec$}}}}
\newcommand{\fphi}{\ensuremath{\mathbin{\ccircled{\scriptsize$\phi$}}}}
\newcommand{\funzip}{\ensuremath{\mathbin{\triangleleft}}}
\newcommand{\fcomb}{\oplus}
\newcommand{\fdelay}{\mathbin{\Delta}}


\newcommand{\ffilt}{\mathbin{\#}}
\newcommand{\fresf}{\mathbin{\rho}}


\newcommand\finter[2]{\ensuremath{\mathbin{\monecirc{$#1$}{-2pt}{.4}\mkern-4mu\monecirc{$#2$}{2pt}{.4}}}}

\newcommand{\fmap}{\mathbin{\rotatebox[origin=c]{45}{$\boxtimes$}}}
\newcommand{\fpipe}{\mathbin{\rotatebox[origin=c]{45}{$\boxbslash$}}}
\newcommand{\fred}{\mathbin{\rotatebox[origin=c]{45}{$\boxdot$}}}
\newcommand{\fscan}{\mathbin{\rotatebox[origin=c]{45}{$\boxast$}}}
\newcommand\fcat{\mdoubleplus}
\newcommand\fsel{\mathrel{@}}


% \newlength\forsydeOperatorInnerLength
% \newlength\forsydeOperatorOuterLength
% \newlength\forsydeOperatorDiffLength
% \newcommand\mocOperator{\mathpalette\@incircbin}
% \newcommand\@incircbin[2]{%
% \mathbin{\ooalign{\hidewidth\raisebox{#1}{$#1#2$}\hidewidth\crcr$#1\ocircle$}}}

\newcommand\mocOperator[2][]{\topinset{$#2$}{$\ocircle$}{#1}{}}

\newcommand{\mapM}{\mocOperator[.35ex]{\cdot}}
\newcommand{\applM}{\mocOperator[.30ex]{*}} 
\newcommand{\preM}{\mocOperator[.27ex]{\scriptstyle\prec}} 
\newcommand{\phiM}{\mocOperator[.06ex]{\scriptstyle\phi}}
\newcommand{\delayM}{\mocOperator[.20ex]{\scriptstyle\triangle}} 


\newcommand{\mapS}{\mathbin{\rotatebox[origin=c]{45}{$\boxdot$}}}
\newcommand{\applS}{\mathbin{\rotatebox[origin=c]{45}{$\boxast$}}}
\newcommand{\redS}{\mathbin{\rotatebox[origin=c]{-45}{$\boxminus$}}}
\newcommand{\pipeS}{\mathbin{\rotatebox[origin=c]{-45}{$\boxslash$}}}
\newcommand{\fMapS}{\mathbin{\rotatebox[origin=c]{45}{$\boxtimes$}}}
\newcommand{\scanS}{\mathbin{\rotatebox[origin=c]{45}{$\boxminus$}}}
\newcommand{\catS}{\mdoubleplus}

\newcommand\fopt[1]{\textcolor{black!35}{#1}}
