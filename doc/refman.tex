\title{The \textsc{ForSyDe-\LaTeX} utilities}
\author{
        George Ungureanu \\
                Department of Electronic Systems\\
        KTH---Royal Institute of Technology\\
        Stockholm, SWEDEN
}
\date{\today}

\documentclass[10pt]{article}
\usepackage[a4paper]{geometry}
\usepackage{forsyde-pc}
\usepackage[footnotesize]{caption}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{marginnote}
\usepackage{listings}
\pgfplotsset{compat=1.9}


\newenvironment{optionslist}[0]{ 
\begin{list}{}{
	\setlength{\itemindent}{-10pt}
%	\setlength{\topsep}{0pt}
	\setlength{\itemsep}{0pt}
	\setlength{\parsep}{0pt}
}}{\end{list}}
\newcommand\bookmark[1]{\marginpar{\ttfamily #1}}
\lstset{
  basicstyle=\footnotesize\ttfamily,
  % numbers=left,
  frame=single,
  numberstyle=\tiny\color{black!30},
  commentstyle=\color{blue}\textit,
  stringstyle=\color{magenta}\textit,
  flexiblecolumns=false,
  basewidth={0.5em,0.45em},
  breaklines=true,
  language={[LaTeX]TeX},
  texcsstyle=*\color{red}\bfseries,
  keywordstyle=\color{blue}\bfseries,
  morekeywords={tikzpicture,document},
  moretexcs={trans,standard,interface,basic,cluster,node,path,embed},
}
\def\opt#1{\color{gray}{#1}}
\def\man#1{\color{black}{#1}}

\begin{document}
\maketitle
\reversemarginpar

\begin{abstract}
This is the reference manual for the \LaTeX\ utilities used in the context of \textsc{ForSyDe}. All packages and their API features are documented here.
\end{abstract}

\section{Introduction}

This library was developed as an effort to standardize symbols and graphical primitives in documents related to \textsc{ForSyDe}, but also to provide tools and utilities for user convenience. \textsc{ForSyDe} is a high-level design methodology aiming at synthesizing correct-by-construction systems through formal means. For more information check \url{https://forsyde.ict.kth.se}.

The library contains the following main packages:
\begin{itemize}
\item \texttt{forsyde-tikz} : is a collection of \textsc{PGF} and
  \textsc{TikZ} styles, graphical primitives and commands for
  drawing \textsc{ForSyDe} process networks;
\item \texttt{forsyde-math} : is a collection of math symbols used in
  the \textsc{ForSyDe} formal notation. It is mainly focused on the
  ongoing \textsc{ForSyDe-Atom} methodology;
\item \texttt{forsyde-plot} : provides utilities for plotting
  \textsc{ForSyDe} signals;
\item \texttt{forsyde-legacy} : API for the previous versions of this
  library.
\end{itemize}

\section{Installation}

There are three main alternatives to use the libraries:

\begin{enumerate}
\item copy the contents of \texttt{forsyde-latex/src} under the \texttt{TEXMFHOME} path or any standard loading path, as specified by your \LaTeX\ compiler;
\item compile your document with the variable \texttt{TEXINPUTS} set to \texttt{/path/to/forsyde-latex/src/};
\item copy the contents of \texttt{forsyde-latex/src} in the same folder as your document and compile normally.
\end{enumerate}


\begin{figure}[htb]\centering
\includegraphics[width=\textwidth]{figs/example-forsyde-tikz}
\end{figure}

\lstinputlisting{figs/example-forsyde-tikz.tex}

\tableofcontents
\newpage

\input{inputs/forsyde-tikz}

\input{inputs/forsyde-legacy}


% \section{The \texttt{forsyde-pc} package}

% The \texttt{forsyde-pc} package includes \textsc{ForSyDe} process constructors, written as macros. For a detailed theoretical background in process constructors check the \textsc{ForSyDe} homepage. It is included with: 

% \begin{verbatim}
% 	\usepackage{forsyde-pc}
% \end{verbatim}

% Following is a list with all process constructors including valid option keys:

% \begin{lstlisting}
% \delay    [moc=,f1=,inner sep=,reverse]        {id}{pos}{label}
% \delayn   [moc=,f1=,f2=,inner sep=,reverse]    {id}{pos}{label}
% \map      [moc=,f1=,inner sep=,reverse]        {id}{pos}{label}
% \comb     [moc=,f1=,inner sep=,reverse]        {id}{pos}{label}
% \combII   [moc=,f1=,inner sep=,reverse]        {id}{pos}{label}
% \combIII  [moc=,f1=,inner sep=,reverse]        {id}{pos}{label}
% \combIV   [moc=,f1=,inner sep=,reverse]        {id}{pos}{label}
% \scanl    [moc=,f1=,f2=,inner sep=,reverse]    {id}{pos}{label}
% \scanlII  [moc=,f1=,f2=,inner sep=,reverse]    {id}{pos}{label}
% \scanlIII [moc=,f1=,f2=,inner sep=,reverse]    {id}{pos}{label}
% \scanld   [moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \scanldII [moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \scanldIII[moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \moore    [moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \mooreII  [moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \mooreIII [moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \mealy    [moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \mealyII  [moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \mealyIII [moc=,f1=,f2=,f3=,inner sep=,reverse]{id}{pos}{label}
% \source   [moc=,f1=,f2=,inner sep=,reverse]    {id}{pos}{label}
% \filter   [moc=,f1=,f2=,inner sep=,reverse]    {id}{pos}{label}
% \hold     [moc=,f1=,inner sep=,reverse]        {id}{pos}{label}
% \fillS    [moc=,f1=,f2=,inner sep=,reverse]    {id}{pos}{label}

% \zip     [moc=,reverse]{id}{pos}
% \zipIII  [moc=,reverse]{id}{pos}
% \zipIV   [moc=,reverse]{id}{pos}
% \zipV    [moc=,reverse]{id}{pos}
% \zipVI   [moc=,reverse]{id}{pos}
% \unzip   [moc=,reverse]{id}{pos}
% \unzipIII[moc=,reverse]{id}{pos}
% \unzipIV [moc=,reverse]{id}{pos}
% \unzipV  [moc=,reverse]{id}{pos}
% \unzipVI [moc=,reverse]{id}{pos}

% \domaininterface[moc=,reverse]          {id}{pos}
% \mocinterface   [mocin=,mocout=,reverse]{id}{pos}

% \composite[ni=,no=,inner xsep=,inner ysep=,reverse] {id}{included}{label}
% \blackbox [ni=,no=,inner xsep=,inner ysep=,reverse] {id}{included}{label}

% \farm     [ni=,no=,inner xsep=,inner ysep=,reverse]                {id}{included}{label}
% \farmI    [ni=,no=,f1=,inner xsep=,inner ysep=,reverse]            {id}{included}{label}
% \farmII   [ni=,no=,f1=,f2=,inner xsep=,inner ysep=,reverse]        {id}{included}{label}
% \farmIII  [ni=,no=,f1=,f2=,f3=,inner xsep=,inner ysep=,reverse]    {id}{included}{label}
% \farmIV   [ni=,no=,f1=,f2=,f3=,f4=,inner xsep=,inner ysep=,reverse]{id}{included}{label}
% \pipe     [ni=,no=,inner xsep=,inner ysep=,reverse]                {id}{included}{label}
% \pipeI    [ni=,no=,f1=,inner xsep=,inner ysep=,reverse]            {id}{included}{label}
% \pipeII   [ni=,no=,f1=,f2=,inner xsep=,inner ysep=,reverse]        {id}{included}{label}
% \pipeIII  [ni=,no=,f1=,f2=,f3=,inner xsep=,inner ysep=,reverse]    {id}{included}{label}
% \pipeIV   [ni=,no=,f1=,f2=,f3=,f4=,inner xsep=,inner ysep=,reverse]{id}{included}{label}
% \reduce   [ni=,no=,inner xsep=,inner ysep=,reverse]                {id}{included}{label}
% \reduceI  [ni=,no=,f1=,inner xsep=,inner ysep=,reverse]            {id}{included}{label}
% \reduceII [ni=,no=,f1=,f2=,inner xsep=,inner ysep=,reverse]        {id}{included}{label}
% \reduceIII[ni=,no=,f1=,f2=,f3=,inner xsep=,inner ysep=,reverse]    {id}{included}{label}
% \reduceIV [ni=,no=,f1=,f2=,f3=,f4=,inner xsep=,inner ysep=,reverse]{id}{included}{label}

% \unzipx     [reverse]         {id}{position}
% \zipx       [reverse]         {id}{position}
% \unzipv     [reverse]         {id}{position}
% \zipv       [reverse]         {id}{position}
% \splitatv   [f1=,reverse]     {id}{position}
% \catv       [reverse]         {id}{position}
% \oddsv      [reverse]         {id}{position}
% \evensv     [reverse]         {id}{position}
% \reversev   [reverse]         {id}{position}
% \groupv     [reverse]         {id}{position}
% \concatv    [reverse]         {id}{position}
% \filteridxv [f1=,reverse]     {id}{position}
% \gatherv    [f1=,f2=,reverse] {id}{position}
% \gatherAdpv [f1=,f2=,reverse] {id}{position}
% \selectv    [reverse]         {id}{position}
% \distributev[f1=,reverse]     {id}{position}
% \filterv    [f1=,reverse]     {id}{position}
% \getv       [f1=,reverse]     {id}{position}

% \visualoddsv   [reverse]{id}{pos}
% \visualevensv  [reverse]{id}{pos}
% \visualreversev[reverse]{id}{pos}
% \visualgroupv  [reverse]{id}{pos}
% \visualconcatv [reverse]{id}{pos}
% \end{lstlisting}

% \newpage
% \section
% \section{PGF nodes} \label{section_shapes}

% All graphical elements in the \texttt{forsyde-tikz} package are created using custom PGF shapes defined in \texttt{tikzlibraryfshapes.code.tex}. You can create new elements by combining them, as can be seen in \texttt{tikzlibraryforsyde.code.tex}. Following is a list with these shapes:

% \begin{optionslist}
% \item \texttt{ports e[0..10]o[0..10]} : defines anchors for the input/output pwrts.
% \item \texttt{func[0..4]} : defines boxes and anchors for the functions nodes.
% \item \texttt{leaf shape} : the shape of a standard leaf process outer box.
% \item \texttt{zip shape} : the shape of a custom zip process.
% \item \texttt{interface shape 0} : the node shape of an interface process.
% \item \texttt{interface shape 180} : the node shape of a reversed interface process.
% \item \texttt{comp shape} : the shape of a composite process.
% \item \texttt{dp shape} : the shape of a data-parallel pattern.
% \item \texttt{pipe shape} : the shape of a time-parallel (pipelined) pattern.
% \item \texttt{merge shape} : the shape of a merging (e.g. reduce) pattern.
% \item \texttt{custom conduit i[2..8]o[2..8]} : the inner node depicting the conduit in a custom (visual) transition pattern.
% \item \texttt{trans shape v[1..8]v[1..8]} : the outer box of a transition pattern, depicting vector(s) on one side and vector(s) on the other side.
% \item \texttt{trans shape s1v1} : the outer box of a transition pattern, depicting a signal on one side and a vector on the other side.
% \item \texttt{trans shape v1gv1} : the outer box of a transition pattern, depicting a vector on one side and a group of vectors on the other side.
% \end{optionslist}


% \begin{tikzpicture}[]
% \newleaf[]{lc}{0,0}{hallo};  
% \newleaf[ni=2, anchor=north]{l1}{2,0}{hallo1};
% \basic[shape=primitive,nf=1] {u} {3,0} {q};
% \end{tikzpicture}


\end{document}
%%% Local Variables:
%%% TeX-command-default: "Make"
%%% mode: latex
%%% TeX-master: t
%%% End:
